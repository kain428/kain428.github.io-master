---

layout: post

title: 이더리움 & 솔리디티 기반의 투표 dApp 구현하기

comments: true

tag: [dApp]

---

이더리움 & 솔리디티 기반의 투표 dApp 구현하기
=============================================

소개
----

탈 중앙회된, 간단한 투표 앱

탈중앙화: 중앙서버x 수많은 수의 사본이 수백 개의 컴퓨터로 이어진 네트워크로 유지 이로인해 어플리케이션을 강제 종료 불가능

### 배우는 것

선거에 출마하는 후보자의 정보 초기화

투표 > 정보 블록체인 저장 voting라는 컨트랙트 작성 과정 실습 블록체인 배포 후 상호작용

어플리케이션 만들면서 컨트랙트(스마트 계약)을 배움 블록체인에 배우고 상호작용이란 무엇인지 의미를 배움

### 첫 실습 대상으로 투표를 하는데 이유

블록체인에서 일어나는 일은 완전히 탈중앙화되어 있음 중앙 권력의 통제가 없고 신뢰가 필요하지 않음

그 중 투표는 탈중앙화 어플리케이션을 이루는 기본 구성 요소

개발 환경 설정
--------------

개발환경 설정에 앞서:아키텍쳐 살펴보기
--------------------------------------

1.	가나슈라는 가짜 블록체인으로 개발 환경 상에서 애플리케이션을 돌리게 준비 /가나슈는 개발 목적으로만 쓰이는 인 메모리 블록체인

2.	솔리디티라는 프로그래밍 언어로 스마트 컨트랙트 구현

3.	블록체인 배포

4.	커맨드 창에서 가나슈와 상호작용 후 웹페이지로 상호작용

개발환경 설정 (Windiws)
-----------------------

1.	Visual Studio Community Edition 을 설치하세요. 만일 사용자 정의 설치 옵션을 선택하실거라면, Visual C++ 과 관계된 모든 요소들은 체크된 상태로 설치해주시길 바랍니다. (현재 버전은 VS 2017 입니다)

2.	Windows SDK for Windows 를 설치하세요.

3.	Python 2.7 버전과 git 도 다운받아서 설치하세요(이미 설치한 상태면 하지 않아도 됩). 새로 설치한 경우에는 PATH 에 꼭 설치된 주소값을 추가해주시길 바랍니다.

4.	OpenSSL도 본인의 운영체제 특징에 맞게 설치하세요. 설치할 때는 light version 이 아닌 full package 로 설치하셔야하며, 설치할 장소는 인스톨러가 추천하는 경로에 꼭 설치하셔야 합니다. 경로를 임의로 바꾸어 설치하지 마세요!

5.	node v8.1.2 를 설치하세요. v6.11.0 은 VS 2017 버전과 잘 호환되지 않기 때문에 사용하지 마세요.

6.	CLI 환경에서 npm install ganache-cli web3@0.20.1 solc 명령어를 실행하세요.

7.	ganache 를 실행하기 위해, run node_modules/.bin/ganache-cli 명령어를 실행하세요.

7번의 명령어를 치게되면 'run'은(는) 내부 또는 외부 명령, 실행할 수 있는 프로그램, 또는 배치 파일이 아닙니다. 라고 뜨게 될 것인데 "C:설치 파일\node_modules.bin\ganache-cli.cmd" 이라고 치면 실행이 된다

dApp만들기
==========

솔리디티로 첫 컨트랙트 작성하기
-------------------------------

이제 솔리디티를 사용해서 첫 스마트 컨트랙트를 짤 준비를 마쳤다.

코딩에 들어가기 앞서서 진행 단계를 설명하자면

1.	각 후보자들을 초기화

2.	후보자에 대해 투표

3.	각 후보자에 대한 득표수를 확인할 수 있어야 한다

### 만들기

후보자를 초기화 하기 위해 생성자 함수를 만들고 모든 후보자 이름을 인수로 전달해야한다

컨트랙트를 구현하기 위한 브라우저로 리믹스(Remix)가 있다

remix.ethereum.org 로 접속하여 새 컨트랙트 파일을 만들자 솔리디티 컨트랙트 파일의 확장자는 .sol이다

버전은 0.4.23을 사용할것이고 compile탭 에서 자동 컴파일을 체크한다
